let words = [
    {
        word: "coffee",
        hint: "A popular beverage made from roasted coffee beans"
    },
    {
        word: "book",
        hint: "A set of written or printed pages, usually bound with a protective cover"
    },
    {
        word: "phone",
        hint: "An electronic device used for making calls, sending messages, and more"
    },
    {
        word: "music",
        hint: "Art form and cultural activity whose medium is sound"
    },
    {
        word: "friend",
        hint: "A person whom one knows and with whom one has a bond of mutual affection"
    },
    {
        word: "work",
        hint: "Activity involving mental or physical effort done to achieve a purpose"
    },
    {
        word: "home",
        hint: "A place where one lives, especially as a member of a family or household"
    },
    {
        word: "food",
        hint: "Any nutritious substance that people or animals eat or drink to maintain life and growth"
    },
    {
        word: "travel",
        hint: "To go on a trip or journey, typically for leisure or vacation"
    },
    {
        word: "sun",
        hint: "The star around which Earth and other planets orbit, providing light and heat"
    },
    {
        word: "love",
        hint: "An intense feeling of deep affection or a great interest and pleasure in something"
    },
    {
        word: "smile",
        hint: "A pleased, kind, or amused facial expression, typically with the corners of the mouth turned up"
    },
    {
        word: "park",
        hint: "A large public green area in a town, used for recreation"
    },
    {
        word: "family",
        hint: "A group consisting of parents and children living together in a household"
    },
    {
        word: "game",
        hint: "An activity that one engages in for amusement or fun"
    },
    {
        word: "weather",
        hint: "The state of the atmosphere at a place and time as regards heat, dryness, sunshine, wind, rain, etc."
    },
    {
        word: "dance",
        hint: "To move rhythmically to music, typically following a set sequence of steps"
    },
    {
        word: "holiday",
        hint: "A day of festivity or recreation when no work is done"
    },
    {
        word: "movie",
        hint: "A story or event recorded by a camera as a set of moving images and shown in a theater or on television"
    },
    {
        word: "health",
        hint: "The state of being free from illness or injury"
    },
    {
        word: "coffee",
        hint: "A popular beverage made from roasted coffee beans"
    },
    {
        word: "book",
        hint: "A set of written or printed pages, usually bound with a protective cover"
    },
    {
        word: "phone",
        hint: "An electronic device used for making calls, sending messages, and more"
    },
    {
        word: "music",
        hint: "Art form and cultural activity whose medium is sound"
    },
    {
        word: "friend",
        hint: "A person whom one knows and with whom one has a bond of mutual affection"
    },
    {
        word: "work",
        hint: "Activity involving mental or physical effort done to achieve a purpose"
    },
    {
        word: "home",
        hint: "A place where one lives, especially as a member of a family or household"
    },
    {
        word: "food",
        hint: "Any nutritious substance that people or animals eat or drink to maintain life and growth"
    },
    {
        word: "travel",
        hint: "To go on a trip or journey, typically for leisure or vacation"
    },
    {
        word: "sun",
        hint: "The star around which Earth and other planets orbit, providing light and heat"
    },
    {
        word: "love",
        hint: "An intense feeling of deep affection or a great interest and pleasure in something"
    },
    {
        word: "smile",
        hint: "A pleased, kind, or amused facial expression, typically with the corners of the mouth turned up"
    },
    {
        word: "park",
        hint: "A large public green area in a town, used for recreation"
    },
    {
        word: "family",
        hint: "A group consisting of parents and children living together in a household"
    },
    {
        word: "game",
        hint: "An activity that one engages in for amusement or fun"
    },
    {
        word: "weather",
        hint: "The state of the atmosphere at a place and time as regards heat, dryness, sunshine, wind, rain, etc."
    },
    {
        word: "dance",
        hint: "To move rhythmically to music, typically following a set sequence of steps"
    },
    {
        word: "holiday",
        hint: "A day of festivity or recreation when no work is done"
    },
    {
        word: "movie",
        hint: "A story or event recorded by a camera as a set of moving images and shown in a theater or on television"
    },
    {
        word: "health",
        hint: "The state of being free from illness or injury"
    },
    {
        word: "car",
        hint: "A road vehicle, typically with four wheels, powered by an internal combustion engine and able to carry a small number of people"
    },
    {
        word: "water",
        hint: "A transparent, tasteless, odorless, and nearly colorless chemical substance that is essential for all known forms of life"
    },
    {
        word: "computer",
        hint: "An electronic device for storing and processing data, typically in binary form, according to instructions given to it in a variable program"
    },
    {
        word: "watch",
        hint: "A small timepiece worn typically on a strap on one's wrist"
    },
    {
        word: "school",
        hint: "An institution for educating children"
    },
    {
        word: "money",
        hint: "A current medium of exchange in the form of coins and banknotes; coins and banknotes collectively"
    },
    {
        word: "garden",
        hint: "A piece of ground, often near a house, used for growing flowers, fruit, or vegetables"
    },
    {
        word: "sleep",
        hint: "A condition of body and mind that typically recurs for several hours every night, in which the nervous system is inactive, the eyes closed, the postural muscles relaxed, and consciousness practically suspended"
    },
    {
        word: "bag",
        hint: "A flexible container with an opening at the top, used for carrying things"
    },
    {
        word: "birthday",
        hint: "The anniversary of the day on which a person was born"
    },
    {
        word: "mountain",
        hint: "A large landform that rises prominently above its surroundings, typically having a peak or summit"
    },
    {
        word: "ocean",
        hint: "A vast and continuous expanse of seawater, constituting a principal part of the hydrosphere"
    },
    {
        word: "technology",
        hint: "The application of scientific knowledge for practical purposes, especially in industry and commerce"
    },
    {
        word: "friendship",
        hint: "The emotions or conduct of friends; the state of being friends"
    },
    {
        word: "adventure",
        hint: "An exciting or unusual experience; a bold, usually risky undertaking"
    },
    {
        word: "challenge",
        hint: "A call or summons to engage in any contest, as of skill, strength, etc."
    },
    {
        word: "celebration",
        hint: "The act of observing a day or an event with ceremonies or festivities"
    },
    {
        word: "nature",
        hint: "The phenomena of the physical world collectively, including plants, animals, the landscape, and other features"
    },
    {
        word: "exploration",
        hint: "The action of traveling in or through an unfamiliar area in order to learn about it"
    },
    {
        word: "inspiration",
        hint: "The process of being mentally stimulated to do or feel something, especially to do something creative"
    },
    {
        word: "creativity",
        hint: "The use of the imagination or original ideas, especially in the production of artistic work"
    },
    {
        word: "courage",
        hint: "The ability to confront fear, pain, danger, uncertainty, or other forms of adversity"
    },
    {
        word: "freedom",
        hint: "The power or right to act, speak, or think as one wants without hindrance or restraint"
    },
    {
        word: "wisdom",
        hint: "The quality of having experience, knowledge, and good judgment; the quality of being wise"
    },
    {
        word: "victory",
        hint: "An act of defeating an enemy or opponent in a battle, game, or other competition"
    },
    {
        word: "imagination",
        hint: "The faculty or action of forming new ideas, images, or concepts not present to the senses"
    },
    {
        word: "peace",
        hint: "Freedom from disturbance; tranquility; a state or period in which there is no war"
    },
    {
        word: "purpose",
        hint: "The reason for which something is done or created or for which something exists"
    },
    {
        word: "knowledge",
        hint: "Facts, information, and skills acquired through experience or education; the theoretical or practical understanding of a subject"
    },
    {
        word: "achievement",
        hint: "A thing done successfully with effort, skill, or courage; the process or fact of achieving something"
    },
    {
        word: "communication",
        hint: "The imparting or exchanging of information or news"
    },
    {
        word: "happiness",
        hint: "The state of being happy, characterized by contentment, joy, satisfaction, or pleasure"
    },
    {
        word: "beauty",
        hint: "A combination of qualities, such as shape, color, or form, that pleases the aesthetic senses"
    },
    {
        word: "kindness",
        hint: "The quality of being friendly, generous, and considerate"
    },
    {
        word: "knowledge",
        hint: "Facts, information, and skills acquired through experience or education; the theoretical or practical understanding of a subject"
    },
    {
        word: "journey",
        hint: "An act of traveling from one place to another, especially when involving a considerable distance"
    },
    {
        word: "laughter",
        hint: "The action or sound of laughing"
    },
    {
        word: "curiosity",
        hint: "A strong desire to know or learn something"
    },
    {
        word: "innovation",
        hint: "The introduction of new things or methods; the act of innovating"
    },
    {
        word: "friendship",
        hint: "The emotions or conduct of friends; the state of being friends"
    },
    {
        word: "adventure",
        hint: "An exciting or unusual experience; a bold, usually risky undertaking"
    },
    {
        word: "challenge",
        hint: "A call or summons to engage in any contest, as of skill, strength, etc."
    },
    {
        word: "celebration",
        hint: "The act of observing a day or an event with ceremonies or festivities"
    },
    {
        word: "nature",
        hint: "The phenomena of the physical world collectively, including plants, animals, the landscape, and other features"
    },
    {
        word: "exploration",
        hint: "The action of traveling in or through an unfamiliar area in order to learn about it"
    },
    {
        word: "inspiration",
        hint: "The process of being mentally stimulated to do or feel something, especially to do something creative"
    },
    {
        word: "creativity",
        hint: "The use of the imagination or original ideas, especially in the production of artistic work"
    },
    {
        word: "courage",
        hint: "The ability to confront fear, pain, danger, uncertainty, or other forms of adversity"
    },
    {
        word: "freedom",
        hint: "The power or right to act, speak, or think as one wants without hindrance or restraint"
    },
    {
        word: "wisdom",
        hint: "The quality of having experience, knowledge, and good judgment; the quality of being wise"
    },
    {
        word: "victory",
        hint: "An act of defeating an enemy or opponent in a battle, game, or other competition"
    },
    {
        word: "imagination",
        hint: "The faculty or action of forming new ideas, images, or concepts not present to the senses"
    },
    {
        word: "peace",
        hint: "Freedom from disturbance; tranquility; a state or period in which there is no war"
    },
    {
        word: "purpose",
        hint: "The reason for which something is done or created or for which something exists"
    },
    {
        word: "knowledge",
        hint: "Facts, information, and skills acquired through experience or education; the theoretical or practical understanding of a subject"
    },
    {
        word: "achievement",
        hint: "A thing done successfully with effort, skill, or courage; the process or fact of achieving something"
    },
    {
        word: "communication",
        hint: "The imparting or exchanging of information or news"
    },
    {
        word: "happiness",
        hint: "The state of being happy, characterized by contentment, joy, satisfaction, or pleasure"
    },
    {
        word: "beauty",
        hint: "A combination of qualities, such as shape, color, or form, that pleases the aesthetic senses"
    },
    {
        word: "kindness",
        hint: "The quality of being friendly, generous, and considerate"
    },
    {
        word: "knowledge",
        hint: "Facts, information, and skills acquired through experience or education; the theoretical or practical understanding of a subject"
    },
    {
        word: "journey",
        hint: "An act of traveling from one place to another, especially when involving a considerable distance"
    },
    {
        word: "laughter",
        hint: "The action or sound of laughing"
    },
    {
        word: "curiosity",
        hint: "A strong desire to know or learn something"
    },
    {
        word: "innovation",
        hint: "The introduction of new things or methods; the act of innovating"
    }
];




let shuffledWords = shuffleArray([...words]); // Randomly shuffle the words array
let currentWordIndex = 0;
let score = 0;
let timer;  

function shuffleArray(words) {
    return words.sort(() => Math.random() - 0.5);
}

function scrambleWord(word) {
    return word.split('').sort(() => Math.random() - 0.5).join('');
}   


const startBtn = document.getElementById('start-btn');
startBtn.addEventListener('click', startGame);

function startGame() {
    // Disable the start button to prevent multiple game sessions
    startBtn.disabled = true;
    // Reset the game by displaying the first word
    resetGame();
}



function displayWord() {
    const wordContainer = document.getElementById('word-container');
    const hintContainer = document.getElementById('hint-container');
    const scoreContainer = document.getElementById('score-container');
    const timerContainer = document.getElementById("timer-container");
    const highestScoreContainer = document.getElementById('highest-score-container');

    // Shuffle the array only when all words have been shown
    if (currentWordIndex === 0) {
        shuffledWords = shuffleArray([...words]);
    }

    const currentWord = shuffledWords[currentWordIndex];
    const scrambledWord = scrambleWord(currentWord.word);
    scoreContainer.textContent = `Score: ${score}`;
    wordContainer.textContent = scrambledWord;
    hintContainer.textContent = `Hint: ${currentWord.hint}`;
    highestScoreContainer.textContent = `Highest Score: ${getHighestScore()}`;

    if (timer === undefined) {
        let timeLimit = 20; // in seconds
        timerContainer.textContent = `Time: ${timeLimit}`;

        // Start the timer countdown
        timer = setInterval(function () {
            timeLimit--;
            timerContainer.textContent = `Time: ${timeLimit}`;

            // Check if time is up
            if (timeLimit <= 0) {
                clearInterval(timer);
                showPopup(`Time is up! The correct word was "${currentWord.word}". Try the next word.`);
                score -= 5; // Deduct points for running out of time
                // currentWordIndex = (currentWordIndex + 1) % shuffledWords.length;
                resetTimer(); // Reset the timer and move to the next word
            }
        }, 1000);
    }

    wordContainer.classList.add('fadeInOut');
}

function resetGame() {
    // Enable the start button for a new game session
    // startBtn.disabled = false;
    
    // Reset game variables
    clearInterval(timer);
    timer = undefined;
    currentWordIndex = 0;
    score = 0;
    displayWord(); // Display the first word
}


function scramble() {
    clearInterval(timer);
    currentWordIndex = (currentWordIndex + 1) % shuffledWords.length;
    displayWord();
}

function resetTimer() {
    clearInterval(timer);
    timer = undefined;
    if (currentWordIndex < shuffledWords.length) {
        displayWord(); // Display the next word
    } else {
        // End of the game, show a congratulatory message or perform other end-of-game actions
        showPopup(`Congratulations! You completed the game with a score of ${score}.`);
        resetGame(); // Reset the game for a new session
    }
}

displayWord();



function getHighestScore() {
    return localStorage.getItem('highestScore') || 0;
}

// Function to set the highest score in local storage
function setHighestScore(newScore) {
    localStorage.setItem('highestScore', newScore);
}

function showPopup(message) {
    const popup = document.getElementById('popup');
    const popupContent = document.getElementById('popup-content');
    const closeBtn = document.getElementById('close-btn');

    popupContent.textContent = message;
    popup.style.display = 'block';

    closeBtn.onclick = function() {
        popup.style.display = 'none';
        guessInput.value = '';
        resetTimer();
    };
    popup.classList.add('fadeInOut');
}

function checkGuess() {
    const guessInput = document.getElementById('guessInput');
    const userGuess = guessInput.value.toLowerCase();
    const currentWord = shuffledWords[currentWordIndex].word;
    

    
    if (userGuess === currentWord) {
        clearInterval(timer);
        showPopup('Correct! Well done.');
        score += 10;

        if (score > getHighestScore()) {
            setHighestScore(score);
        } 
    } else if (userGuess == '') {
        showPopup('Please input a word');
    } else {
        showPopup('Incorrect. Try again!');
        score -= 5;
    }

    // displayWord(); 
}
